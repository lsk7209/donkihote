/**
 * FAQ 콘텐츠를 DB에 삽입하는 스크립트
 * 
 * 사용법:
 *   npx tsx scripts/seed-faq-content.ts
 */

import { db } from '../lib/db-server';
import { posts } from '../schema';
import { eq } from 'drizzle-orm';

interface FAQContent {
  slug: string;
  title: string;
  content: string;
  category: 'faq';
  keywords: string[];
}

const faqContents: FAQContent[] = [
  {
    slug: 'donkicalc-how-to-use',
    title: 'DonkiCalc 사용법이 궁금해요! 어떻게 사용하나요?',
    category: 'faq',
    keywords: ['DonkiCalc 사용법', '환율 계산기 사용', '면세 계산 방법'],
    content: `<h2>DonkiCalc 사용법 완벽 가이드</h2>
<p>DonkiCalc는 정말 간단해요! 3단계만 따라하면 끝이에요! 🎯</p>

<h3>1단계: 엔화 가격 입력</h3>
<p>일본에서 구매할 상품의 엔화 가격을 입력하세요. 예를 들어, 10,000엔짜리 화장품을 사려면 "10000"을 입력하면 돼요!</p>

<h3>2단계: 할인 옵션 선택</h3>
<p>Tax Free(면세)와 Coupon(쿠폰) 할인을 적용할 수 있어요:</p>
<ul>
  <li><strong>Tax Free</strong>: 5,500엔 이상 구매 시 10% 면세 할인</li>
  <li><strong>Coupon</strong>: 10,000엔 이상 구매 시 5% 추가 할인 (30,000엔 이상이면 7%!)</li>
</ul>
<p>둘 다 켜면 최대 할인을 받을 수 있어요! 💰</p>

<h3>3단계: 결과 확인</h3>
<p>실시간으로 계산된 원화 가격과 할인 금액을 확인하세요. 면세 게이지도 보면서 얼마나 더 사면 면세 혜택을 받을 수 있는지 확인할 수 있어요!</p>

<h2>자주 묻는 질문</h2>

<h3>Q: 환율은 언제 업데이트되나요?</h3>
<p>A: 환율은 1시간마다 자동으로 업데이트돼요. 항상 최신 환율을 반영하고 있어요! 💱</p>

<h3>Q: 오프라인에서도 사용할 수 있나요?</h3>
<p>A: 네! 인터넷 연결이 필요하지만, 한 번 로드되면 계산은 오프라인에서도 가능해요. 다만 최신 환율을 받으려면 인터넷 연결이 필요해요.</p>

<h3>Q: 계산 결과를 공유할 수 있나요?</h3>
<p>A: 네! 결과 페이지에 공유 버튼이 있어요. 친구들에게 이 계산기를 알려주세요! 📤</p>

<p>더 궁금한 점이 있으시면 <a href="/faq">FAQ 페이지</a>를 확인해보세요!</p>`,
  },
  {
    slug: 'donki-tax-free-how-much',
    title: '돈키호테 면세는 얼마부터 받을 수 있나요? 5,500엔이 맞나요?',
    category: 'faq',
    keywords: ['돈키호테 면세', '면세 기준', '5,500엔', '면세 한도'],
    content: `<h2>돈키호테 면세 기준 완벽 정리</h2>
<p>네, 맞아요! <strong>5,500엔 이상</strong> 구매하면 10% 면세 혜택을 받을 수 있어요! 🎉</p>

<h3>면세 기준 상세 설명</h3>
<p><strong>5,500엔</strong>은 세금 포함 가격 기준이에요. 즉, 상품 가격에 10% 소비세가 포함된 금액이 5,500엔 이상이면 면세 혜택을 받을 수 있어요!</p>

<h3>실제 예시</h3>
<ul>
  <li><strong>5,000엔 상품</strong>: 면세 불가 (5,500엔 미만)</li>
  <li><strong>5,500엔 상품</strong>: 면세 가능! 10% 할인 적용</li>
  <li><strong>10,000엔 상품</strong>: 면세 가능! 1,000엔 절약</li>
</ul>

<h3>면세 게이지 활용하기</h3>
<p><a href="/">DonkiCalc 계산기</a>의 면세 게이지를 보면, 현재 얼마나 더 사면 면세 혜택을 받을 수 있는지 한눈에 볼 수 있어요! 예를 들어, 3,000엔을 입력하면 "면세까지 ¥2,500 부족!"이라고 표시돼요. 🎯</p>

<h3>면세 혜택 최대화 팁</h3>
<p>면세 한도를 딱 맞춰서 사는 게 가장 알뜰해요! 여러 상품을 함께 구매해서 5,500엔을 넘기면 10% 할인을 받을 수 있어요.</p>

<h2>자주 묻는 질문</h2>

<h3>Q: 5,500엔을 정확히 맞춰야 하나요?</h3>
<p>A: 아니에요! 5,500엔 이상이면 돼요. 더 많이 사면 더 많이 절약할 수 있어요!</p>

<h3>Q: 여러 번 나눠서 사도 면세 받을 수 있나요?</h3>
<p>A: 아니에요. 한 번에 5,500엔 이상 구매해야 면세 혜택을 받을 수 있어요.</p>

<h3>Q: 면세와 쿠폰 할인을 함께 받을 수 있나요?</h3>
<p>A: 네! 면세 10% + 쿠폰 5~7% = 최대 할인을 받을 수 있어요! <a href="/">계산기</a>에서 확인해보세요!</p>

<p>더 궁금한 점이 있으시면 <a href="/faq">FAQ 페이지</a>를 확인해보세요!</p>`,
  },
  {
    slug: 'donki-coupon-how-to-use',
    title: '돈키호테 쿠폰은 어떻게 받고 사용하나요? 할인율은 얼마인가요?',
    category: 'faq',
    keywords: ['돈키호테 쿠폰', '쿠폰 사용법', '쿠폰 할인율', '쿠폰 받는 방법'],
    content: `<h2>돈키호테 쿠폰 완벽 가이드</h2>
<p>돈키호테 쿠폰으로 <strong>최대 7% 추가 할인</strong>을 받을 수 있어요! 면세와 함께 사용하면 정말 알뜰해요! 💰</p>

<h3>쿠폰 할인율</h3>
<ul>
  <li><strong>10,000엔 이상</strong> 구매 시: 쿠폰 5% 할인</li>
  <li><strong>30,000엔 이상</strong> 구매 시: 쿠폰 7% 할인 (최대!)</li>
</ul>
<p>면세 10%와 함께 사용하면 정말 큰 할인을 받을 수 있어요! 🎉</p>

<h3>쿠폰 받는 방법 (3단계)</h3>

<h4>1단계: 쿠폰 페이지 접속</h4>
<p>돈키호테 공식 쿠폰 페이지에 접속하세요. 돈키호테 앱이나 웹사이트에서 쿠폰을 받을 수 있어요.</p>

<h4>2단계: 할인율 선택</h4>
<p>구매 금액에 따라 할인율을 선택하세요:</p>
<ul>
  <li>10,000엔 이상: 5% 할인 선택</li>
  <li>30,000엔 이상: 7% 할인 선택 (더 많이 절약!)</li>
</ul>

<h4>3단계: 바코드 화면 표시</h4>
<p>쿠폰 배너를 클릭하면 바코드 화면이 표시돼요. 이 화면을 계산 시 직원에게 보여주면 돼요!</p>

<h3>쿠폰 사용 방법</h3>
<ol>
  <li><strong>계산 전에 쿠폰 준비</strong>: 쿠폰 바코드 화면을 미리 열어두세요</li>
  <li><strong>직원에게 제시</strong>: 계산 시 직원에게 쿠폰 바코드 화면을 보여주세요</li>
  <li><strong>화면 조작</strong>: 화면의 STEP.1 ~ STEP.4 순서에 따라 조작하세요</li>
  <li><strong>사용 완료</strong>: 마지막에 [닫기] 버튼으로 사용 완료!</li>
</ol>

<h3>⚠️ 중요한 주의사항</h3>
<ul>
  <li><strong>캡처 화면은 사용 불가</strong>: 반드시 실시간 페이지를 보여줘야 해요!</li>
  <li><strong>계산 전에 제시</strong>: 계산 후에는 쿠폰을 사용할 수 없어요</li>
  <li><strong>일부 상품 제외</strong>: 술, 담배, 게임기 본체 등은 쿠폰 적용이 안 돼요</li>
</ul>

<h3>면세 + 쿠폰 중복 할인 예시</h3>
<p>30,000엔 상품을 구매하면:</p>
<ul>
  <li>면세 10% 적용: 27,000엔</li>
  <li>쿠폰 7% 추가: 약 25,110엔</li>
  <li><strong>총 약 4,890엔 절약!</strong> (약 44,000원!)</li>
</ul>
<p>이 계산을 쉽게 하려면 <a href="/">DonkiCalc 계산기</a>를 사용하세요! 🧮</p>

<h2>자주 묻는 질문</h2>

<h3>Q: 쿠폰은 한 번만 사용할 수 있나요?</h3>
<p>A: 아니에요! 매번 사용할 수 있어요. 다만, 한 번에 하나의 쿠폰만 사용할 수 있어요.</p>

<h3>Q: 쿠폰과 면세를 함께 받을 수 있나요?</h3>
<p>A: 네! 면세 10% + 쿠폰 5~7% = 최대 할인을 받을 수 있어요!</p>

<h3>Q: 쿠폰 바코드를 캡처해서 사용할 수 있나요?</h3>
<p>A: 아니에요! 반드시 실시간 페이지를 보여줘야 해요. 캡처 화면은 사용할 수 없어요.</p>

<p>더 궁금한 점이 있으시면 <a href="/faq">FAQ 페이지</a>를 확인해보세요!</p>`,
  },
  {
    slug: 'yen-rate-fluctuation',
    title: '엔화 환율이 자꾸 변하는데, 언제 사는 게 가장 유리한가요?',
    category: 'faq',
    keywords: ['엔화 환율', '환율 변동', '환율 예측', '쇼핑 타이밍'],
    content: `<h2>엔화 환율 변동과 쇼핑 타이밍</h2>
<p>엔화 환율은 정말 자주 변해요! 하지만 걱정 마세요. 몇 가지 팁만 알면 더 유리하게 쇼핑할 수 있어요! 💱</p>

<h3>환율이 변하는 이유</h3>
<p>엔화 환율은 여러 요인에 의해 변해요:</p>
<ul>
  <li><strong>경제 지표</strong>: 일본의 GDP, 인플레이션 등</li>
  <li><strong>일본은행 정책</strong>: 금리 인상/인하</li>
  <li><strong>국제 무역</strong>: 수출입 상황</li>
  <li><strong>글로벌 시장</strong>: 주식 시장, 원유 가격 등</li>
</ul>

<h3>환율이 유리할 때 vs 불리할 때</h3>

<h4>환율이 유리할 때 (엔화 약세 = 환율 상승)</h4>
<ul>
  <li>같은 엔화 금액을 원화로 환산하면 <strong>더 적은 원화</strong>가 필요해요</li>
  <li>일본 쇼핑 비용이 <strong>감소</strong>해요</li>
  <li>쇼핑 예산을 더 효율적으로 사용할 수 있어요! 💰</li>
</ul>

<h4>환율이 불리할 때 (엔화 강세 = 환율 하락)</h4>
<ul>
  <li>같은 엔화 금액을 원화로 환산하면 <strong>더 많은 원화</strong>가 필요해요</li>
  <li>일본 쇼핑 비용이 <strong>증가</strong>해요</li>
  <li>쇼핑 예산을 조정해야 할 수 있어요</li>
</ul>

<h3>쇼핑 타이밍 전략</h3>

<h4>1. 환율 모니터링</h4>
<p><a href="/">DonkiCalc 계산기</a>에서 실시간 환율을 확인하세요! 환율은 1시간마다 자동으로 업데이트돼요.</p>

<h4>2. 예산 관리</h4>
<p>환율 변동을 고려하여 쇼핑 예산을 설정하세요. 환율이 불리할 경우를 대비하여 여유 예산을 확보하는 것이 좋아요.</p>

<h4>3. 단기 vs 장기</h4>
<p>단기적으로는 환율 변동이 크지 않지만, 장기적으로는 큰 차이를 만들 수 있어요. 여행 계획이 확정되면 미리 환율을 확인해보세요!</p>

<h3>실용적인 팁</h3>
<ul>
  <li><strong>환율이 유리할 때</strong>: 더 많이 쇼핑하거나 비싼 상품을 구매</li>
  <li><strong>환율이 불리할 때</strong>: 필수품 위주로 구매하거나 예산 조정</li>
  <li><strong>면세 + 쿠폰 활용</strong>: 환율이 불리해도 할인으로 절약 가능!</li>
</ul>

<h2>자주 묻는 질문</h2>

<h3>Q: 환율을 예측할 수 있나요?</h3>
<p>A: 정확한 예측은 어려워요. 하지만 경제 지표와 뉴스를 보면 대략적인 방향을 알 수 있어요.</p>

<h3>Q: 환율이 변해도 계산기는 정확한가요?</h3>
<p>A: 네! <a href="/">DonkiCalc 계산기</a>는 1시간마다 최신 환율을 반영하고 있어요. 항상 정확한 계산을 제공해요!</p>

<h3>Q: 환율 알림을 받을 수 있나요?</h3>
<p>A: 현재는 알림 기능이 없지만, 계산기를 자주 확인하시면 최신 환율을 볼 수 있어요!</p>

<p>더 궁금한 점이 있으시면 <a href="/faq">FAQ 페이지</a>를 확인해보세요!</p>`,
  },
  {
    slug: 'donki-what-to-buy',
    title: '돈키호테에서 뭘 사야 할지 모르겠어요. 추천 상품이 있나요?',
    category: 'faq',
    keywords: ['돈키호테 추천', '돈키호테 필수템', '돈키호테 쇼핑 리스트', '일본 쇼핑 추천'],
    content: `<h2>돈키호테 필수템 TOP 10 (이거만 사도 후회 없어요!)</h2>
<p>돈키호테에 가면 정말 뭘 사야 할지 모르겠죠? 이거만 사도 후회 없어요! 🛍️</p>

<h3>1. 화장품 (뷰티 제품) ⭐⭐⭐⭐⭐</h3>
<p><strong>왜 사야 하나요?</strong> 한국보다 20~30% 저렴하고, 품질도 우수해요!</p>
<ul>
  <li>마스크팩 (한국보다 훨씬 저렴!)</li>
  <li>선크림 (일본 선크림은 정말 좋아요)</li>
  <li>립스틱, 파우더 (인기 브랜드 저렴하게!)</li>
  <li>아이섀도, 블러셔</li>
</ul>
<p><strong>예상 가격:</strong> 500엔~3,000엔</p>

<h3>2. 의약품 ⭐⭐⭐⭐⭐</h3>
<p><strong>왜 사야 하나요?</strong> 일본 의약품은 효과가 좋고 안전해요!</p>
<ul>
  <li>파스 (근육통, 관절통에 효과적)</li>
  <li>소화제, 위장약</li>
  <li>비타민, 영양제</li>
  <li>감기약, 해열제</li>
</ul>
<p><strong>예상 가격:</strong> 500엔~2,000엔</p>

<h3>3. 식품 (과자, 라면, 초콜릿) ⭐⭐⭐⭐</h3>
<p><strong>왜 사야 하나요?</strong> 한국에서 못 먹는 맛있는 일본 과자들이 가득해요!</p>
<ul>
  <li>일본 라면 (진짜 맛있어요!)</li>
  <li>초콜릿, 과자 (기념품으로도 좋아요)</li>
  <li>일본 전통 과자</li>
  <li>스낵, 쿠키</li>
</ul>
<p><strong>예상 가격:</strong> 100엔~1,000엔</p>

<h3>4. 생활용품 ⭐⭐⭐⭐</h3>
<p><strong>왜 사야 하나요?</strong> 실용적이고 디자인도 예뻐요!</p>
<ul>
  <li>주방용품 (일본 주방 도구는 정말 좋아요)</li>
  <li>욕실용품 (세면대 정리함 등)</li>
  <li>수납용품</li>
  <li>청소용품</li>
</ul>
<p><strong>예상 가격:</strong> 300엔~2,000엔</p>

<h3>5. 전자제품 ⭐⭐⭐</h3>
<p><strong>왜 사야 하나요?</strong> 한국보다 저렴한 경우가 많아요!</p>
<ul>
  <li>면도기, 헤어드라이어</li>
  <li>충전기, 케이블</li>
  <li>소형 가전제품</li>
</ul>
<p><strong>예상 가격:</strong> 1,000엔~10,000엔</p>

<h3>6. 기념품 ⭐⭐⭐</h3>
<p><strong>왜 사야 하나요?</strong> 친구, 가족 선물로 완벽해요!</p>
<ul>
  <li>일본 캐릭터 굿즈</li>
  <li>일본 전통 소품</li>
  <li>키링, 스티커 등</li>
</ul>
<p><strong>예상 가격:</strong> 200엔~2,000엔</p>

<h3>쇼핑 팁</h3>
<ul>
  <li><strong>면세 한도 맞추기</strong>: 여러 상품을 함께 구매해서 5,500엔을 넘기면 10% 할인!</li>
  <li><strong>가격 확인</strong>: <a href="/">DonkiCalc 계산기</a>로 정확한 가격을 확인하세요</li>
  <li><strong>쿠폰 활용</strong>: 10,000엔 이상 구매 시 쿠폰 5% 추가 할인!</li>
</ul>

<h2>자주 묻는 질문</h2>

<h3>Q: 돈키호테에서 가장 인기 있는 상품은 뭔가요?</h3>
<p>A: 화장품과 의약품이 가장 인기 있어요! 한국보다 저렴하고 품질도 좋아서 많은 분들이 구매하시죠.</p>

<h3>Q: 면세 한도를 맞추려면 어떻게 해야 하나요?</h3>
<p>A: 여러 상품을 함께 구매해서 5,500엔을 넘기면 돼요! <a href="/">DonkiCalc 계산기</a>의 면세 게이지를 보면서 딱 맞춰 사세요.</p>

<h3>Q: 쿠폰과 면세를 함께 받을 수 있나요?</h3>
<p>A: 네! 면세 10% + 쿠폰 5~7% = 최대 할인을 받을 수 있어요!</p>

<p>더 궁금한 점이 있으시면 <a href="/faq">FAQ 페이지</a>를 확인해보세요!</p>`,
  },
];

async function seedFAQContent() {
  console.log('FAQ 콘텐츠 삽입 시작...');

  for (const content of faqContents) {
    try {
      // 기존 게시글 확인
      const existing = await db
        .select()
        .from(posts)
        .where(eq(posts.slug, content.slug))
        .limit(1);

      if (existing.length > 0) {
        console.log(`이미 존재하는 게시글: ${content.slug}`);
        continue;
      }

      // 새 게시글 삽입
      await db.insert(posts).values({
        slug: content.slug,
        title: content.title,
        content: content.content,
        category: content.category,
        isPublished: true,
        createdAt: new Date().toISOString(),
      });

      console.log(`✓ 삽입 완료: ${content.slug}`);
    } catch (error) {
      console.error(`✗ 삽입 실패: ${content.slug}`, error);
    }
  }

  console.log('FAQ 콘텐츠 삽입 완료!');
}

// 스크립트 실행
if (require.main === module) {
  seedFAQContent()
    .then(() => {
      console.log('FAQ 시드 완료!');
      process.exit(0);
    })
    .catch((error) => {
      console.error('FAQ 시드 실패:', error);
      process.exit(1);
    });
}

export { seedFAQContent };

